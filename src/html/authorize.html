<!doctype html>
<html lang=en>

<head>
  <meta charset=utf-8>
  <title>Authorize</title>
</head>

<body>
  <button type=button>Click to authorize</button>
  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <script>
    var t = window.TrelloPowerUp.iframe({
      appKey: 'a21948406b564382c19a797995373c5a',
      appName: 'relative-due-date'
    });
    t.render(function () {
      document.querySelector('button').addEventListener('click', function () {
        t.getRestApi()
          .authorize({ scope: 'read,write' })
          .then(function (t) {
            alert('Success!');
          });
      }, false);
    });
  </script>
</body>

</html>